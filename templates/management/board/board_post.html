{% extends "base.html" %}
{% block title %}ê²Œì‹œê¸€ ë³´ê¸°{% endblock %}

{% block content %}
<section class="py-20 px-6 max-w-4xl mx-auto">
  <h2 class="text-2xl font-bold mb-6 text-center text-[#442404]">
    {{ category_name }} - ê²Œì‹œê¸€ ìƒì„¸
  </h2>

  <!-- ê²Œì‹œê¸€ ì •ë³´ -->
  <div class="space-y-4 border border-gray-200 rounded-lg p-6 bg-white shadow-sm">
    <h3 class="text-xl font-bold text-[#2e1c0f]">{{ post.title }}</h3>
    <p class="text-sm text-gray-600">
      ì‘ì„±ì: {{ post.author }} | ë‚ ì§œ: {{ post.date }}
    </p>
    <div class="text-base leading-relaxed text-gray-800 whitespace-pre-line">
      {{ post.content | safe }}
    </div>

    <!-- ì´ë¯¸ì§€ ì¶œë ¥ -->
    {% if post.image_urls %}
      <div class="mt-6">
        <h4 class="font-semibold mb-2 text-[#442404]">ì²¨ë¶€ ì´ë¯¸ì§€</h4>
        <div class="grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3">
          {% for idx, img_url in enumerate(post.image_urls) %}
            <img src="{{ img_url }}" alt="ì²¨ë¶€ ì´ë¯¸ì§€ {{ idx + 1 }}"
                 class="rounded shadow-sm w-full object-contain max-h-64" />
          {% endfor %}
        </div>
      </div>
    {% endif %}

    <!-- ì²¨ë¶€íŒŒì¼ ì¶œë ¥ -->
    {% if post.file_urls %}
      <div class="mt-6">
        <h4 class="font-semibold mb-2 text-[#442404]">ì²¨ë¶€íŒŒì¼</h4>
        <ul class="list-disc list-inside text-[#442404]">
          {% for file_url in post.file_urls %}
            <li>
              <a href="{{ file_url }}" target="_blank" download
                 class="underline hover:text-[#755d46] flex items-center gap-1">
                ğŸ“ {{ file_url | replace('/static/uploads/', '') }}
              </a>
            </li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    <!-- ë²„íŠ¼ ì˜ì—­ -->
    <div class="flex justify-end mt-6 space-x-4">
      <a href="{{ url_for('board_edit_check', category=category, post_id=post.id) }}"
         class="px-4 py-2 bg-[#d2b8a3] text-white rounded hover:bg-[#b99f8b]">ìˆ˜ì •</a>
      <form method="POST" action="{{ url_for('board_delete', category=category, post_id=post.id) }}">
        <!-- ì¶”í›„ Flask-WTF ì ìš© ì‹œ: {{ form.hidden_tag() }} -->
        <button type="submit"
                class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600"
                onclick="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">ì‚­ì œ</button>
      </form>
    </div>
  </div>
</section>
{% endblock %}