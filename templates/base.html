<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>{% block title %}Bestern{% endblock %}</title>
  <!-- 파비콘 -->
  <!-- 기본 favicon (최신 브라우저용, SVG 우선) -->
  <link rel="icon" href="{{ url_for('static', filename='img/favicon.svg') }}" type="image/svg+xml">

  <!-- 구형 브라우저 및 일부 모바일 브라우저용 -->
  <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='img/favicon-32x32.png') }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='img/favicon-16x16.png') }}">

  <!-- 애플 터치 아이콘 (iOS 홈 화면용) -->
  <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='img/apple-touch-icon.png') }}">

  <!-- 웹 앱 매니페스트 (선택) -->
  <link rel="manifest" href="{{ url_for('static', filename='site.webmanifest') }}">  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet" />
  
  <style>
    @font-face {
      font-family: 'Font1';
      src: url("{{ url_for('static', filename='fonts/font1.ttf') }}") format("truetype");
    }

    @font-face {
      font-family: 'Font2';
      src: url("{{ url_for('static', filename='fonts/font2.otf') }}") format("opentype");
    }

    body {
      font-family: 'Font1', 'Noto Sans KR', sans-serif;
    }

    .font-bestern {
      font-family: 'Font2', sans-serif;
    }

    html {
      scroll-behavior: smooth;
    }
  </style>
</head>

<body class="text-gray-800">

<!-- Header -->
<header class="fixed top-0 w-full z-50 text-[#755d46] shadow-sm backdrop-blur-md" style="background-color: rgba(255, 255, 255, 0.6);">
  <div class="w-full px-6 py-1 flex justify-between items-center max-w-7xl mx-auto" style="height: 56px;">
    <!-- 로고 -->
    <a href="/">
      <img src="{{ url_for('static', filename='img/logo.png') }}"
           alt="Bestern 로고"
           class="h-12 md:h-14 object-contain"
           style="max-height: 56px;" />
    </a>

    <!-- PC 메뉴 -->
    <nav class="hidden md:flex space-x-6 text-[17px] md:text-[18px] items-center">
      <!-- 회사소개 -->
      <div class="group relative">
        <span class="cursor-default text-[#442404] group-hover:text-[#755d46]">회사소개</span>
        <div class="absolute left-0 top-full mt-0 hidden group-hover:block bg-white shadow-lg rounded py-2 text-[17px] z-50 w-max whitespace-nowrap">
          <a href="/company/greeting" class="block px-4 py-2 text-gray-800 hover:text-[#755d46] hover:bg-gray-100">인사말</a>
          <a href="/company/overview" class="block px-4 py-2 text-gray-800 hover:text-[#755d46] hover:bg-gray-100">개요</a>
          <a href="/company/orgchart" class="block px-4 py-2 text-gray-800 hover:text-[#755d46] hover:bg-gray-100">조직도</a>
        </div>
      </div>

      <!-- 자산관리 -->
      <div class="group relative">
        <span class="cursor-default text-[#442404] group-hover:text-[#755d46]">자산관리</span>
        <div class="absolute left-0 top-full mt-0 hidden group-hover:block bg-white shadow-lg rounded py-2 text-[17px] z-50 w-max whitespace-nowrap">
          <a href="/management/overview" class="block px-4 py-2 text-gray-800 hover:text-[#755d46] hover:bg-gray-100">개요</a>
          <a href="/management/orgchart" class="block px-4 py-2 text-gray-800 hover:text-[#755d46] hover:bg-gray-100">조직도</a>
          <a href="/management/secured" class="block px-4 py-2 text-gray-800 hover:text-[#755d46] hover:bg-gray-100">담보부 NPL</a>
          <a href="/management/unsecured" class="block px-4 py-2 text-gray-800 hover:text-[#755d46] hover:bg-gray-100">무담보 NPL</a>
          <a href="/management/performance" class="block px-4 py-2 text-gray-800 hover:text-[#755d46] hover:bg-gray-100">관리 실적</a>
          <a href="/management/resources" class="block px-4 py-2 text-gray-800 hover:text-[#755d46] hover:bg-gray-100">자료실</a>
        </div>
      </div>

      <!-- 자산운용 -->
      <div class="group relative">
        <span class="cursor-default text-[#442404] group-hover:text-[#755d46]">자산운용</span>
        <div class="absolute left-0 top-full mt-0 hidden group-hover:block bg-white shadow-lg rounded py-2 text-[17px] z-50 w-max whitespace-nowrap">
          <a href="/operation/philosophy" class="block px-4 py-2 text-gray-800 hover:text-[#755d46] hover:bg-gray-100">철학</a>
          <a href="/operation/orgchart" class="block px-4 py-2 text-gray-800 hover:text-[#755d46] hover:bg-gray-100">조직도</a>
          <a href="/operation/returns" class="block px-4 py-2 text-gray-800 hover:text-[#755d46] hover:bg-gray-100">수익률</a>
        </div>
      </div>

      <!-- 기타 -->
      <a href="/notice" class="text-[#442404] hover:text-[#755d46] transition">공지사항</a>
      <a href="/contact" class="text-[#442404] hover:text-[#755d46] transition">연락처</a>
      <span class="ml-4 text-[15px] font-medium border px-2 py-1 rounded cursor-pointer text-[#442404] hover:bg-[#755d46] hover:text-white transition">
        KO | EN
      </span>
    </nav>

    <!-- 모바일 메뉴 버튼 -->
    <button id="menuToggleBtn" class="md:hidden text-[#755d46]" aria-label="모바일 메뉴 열기">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>
</header>

<!-- 모바일 메뉴 (헤더 바깥에 위치) -->
<div id="mobileMenu"
     class="md:hidden fixed inset-0 bg-[#1a1a1a]/95 backdrop-blur-sm text-white shadow-lg transform translate-x-full transition-transform duration-300 z-[9999] overflow-y-auto">
  <div class="relative p-6 pt-12 space-y-6 text-lg">
    <!-- 닫기 버튼 -->
    <button onclick="toggleMobileMenu()"
            class="absolute top-4 right-4 w-10 h-10 flex items-center justify-center text-white text-2xl font-bold rounded-full bg-[#333] hover:bg-[#555] transition">
      ✕
    </button>

    <!-- 메뉴 항목들 -->
    <div>
      <button onclick="toggleSubMenu('companySub')" class="w-full text-left py-2 border-b border-[#333] font-semibold hover:text-[#c0b5ab]">
        회사소개
      </button>
      <div id="companySub" class="pl-4 mt-2 hidden space-y-2 text-base">
        <a href="/company/greeting" class="block hover:text-[#c0b5ab]">인사말</a>
        <a href="/company/overview" class="block hover:text-[#c0b5ab]">개요</a>
        <a href="/company/orgchart" class="block hover:text-[#c0b5ab]">조직도</a>
      </div>
    </div>

    <div>
      <button onclick="toggleSubMenu('managementSub')" class="w-full text-left py-2 border-b border-[#333] font-semibold hover:text-[#c0b5ab]">
        자산관리
      </button>
      <div id="managementSub" class="pl-4 mt-2 hidden space-y-2 text-base">
        <a href="/management/overview" class="block hover:text-[#c0b5ab]">개요</a>
        <a href="/management/orgchart" class="block hover:text-[#c0b5ab]">조직도</a>
        <a href="/management/secured" class="block hover:text-[#c0b5ab]">담보부 NPL</a>
        <a href="/management/unsecured" class="block hover:text-[#c0b5ab]">무담보 NPL</a>
        <a href="/management/performance" class="block hover:text-[#c0b5ab]">관리 실적</a>
        <a href="/management/resources" class="block hover:text-[#c0b5ab]">자료실</a>
      </div>
    </div>

    <div>
      <button onclick="toggleSubMenu('operationSub')" class="w-full text-left py-2 border-b border-[#333] font-semibold hover:text-[#c0b5ab]">
        자산운용
      </button>
      <div id="operationSub" class="pl-4 mt-2 hidden space-y-2 text-base">
        <a href="/operation/orgchart" class="block hover:text-[#c0b5ab]">조직도</a>
        <a href="/operation/philosophy" class="block hover:text-[#c0b5ab]">철학</a>
        <a href="/operation/returns" class="block hover:text-[#c0b5ab]">수익률</a>
      </div>
    </div>

    <a href="/notice" class="block py-2 border-b border-[#333] hover:text-[#c0b5ab]">공지사항</a>
    <a href="/contact" class="block py-2 border-b border-[#333] hover:text-[#c0b5ab]">연락처</a>
    <span class="block mt-4 text-sm font-semibold border px-3 py-2 rounded w-fit text-white hover:bg-[#755d46] hover:text-white cursor-pointer transition">
      KO | EN
    </span>
  </div>
</div>

<main class="min-h-screen">
  {% block content %}{% endblock %}
</main>

<footer class="bg-[#1a1a1a] text-white py-8 text-sm mt-20">
  <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-start gap-6">

    <!-- 회사 정보 -->
    <div>
      <p class="font-bestern text-lg text-[#c0b5ab] mb-2">BESTERN AMC</p>
      <p>서울특별시 강남구 역삼동 682-7, 3층 (창일빌딩)</p>
      <p>대표번호: +82 2 510 5900</p>
      <p>팩스: +82 2 510 5901</p>
      <p>이메일: emlee@thebestamc.com</p>
    </div>

    <!-- 회사 -->
    <div class="space-y-2">
      <p class="font-semibold text-[#c0b5ab] mb-1">회사</p>
      <a href="/company/greeting" class="block hover:text-[#c0b5ab]">인사말</a>
      <a href="/company/overview" class="block hover:text-[#c0b5ab]">개요</a>
      <a href="/company/orgchart" class="block hover:text-[#c0b5ab]">조직도</a>
    </div>

    <!-- 자산관리 -->
    <div class="space-y-2">
      <p class="font-semibold text-[#c0b5ab] mb-1">자산관리</p>
      <a href="/management/overview" class="block hover:text-[#c0b5ab]">개요</a>
      <a href="/management/secured" class="block hover:text-[#c0b5ab]">담보부 NPL</a>
      <a href="/management/unsecured" class="block hover:text-[#c0b5ab]">무담보 NPL</a>
    </div>

    <!-- 자산운용 -->
    <div class="space-y-2">
      <p class="font-semibold text-[#c0b5ab] mb-1">자산운용</p>
      <a href="/operation/philosophy" class="block hover:text-[#c0b5ab]">철학</a>
      <a href="/operation/orgchart" class="block hover:text-[#c0b5ab]">조직도</a>
      <a href="/operation/returns" class="block hover:text-[#c0b5ab]">수익률</a>
    </div>

    <!-- 기타 -->
    <div class="space-y-2">
      <p class="font-semibold text-[#c0b5ab] mb-1">기타</p>
      <a href="/notice" class="block hover:text-[#c0b5ab]">공지사항</a>
      <a href="/contact" class="block hover:text-[#c0b5ab]">연락처</a>
      <a href="/privacy" class="block hover:text-[#c0b5ab]">개인정보처리방침</a>
    </div>
  </div>

  <div class="mt-8 text-center text-gray-400 text-xs">
    © 2025 BESTERN AMC. All rights reserved.
  </div>
</footer>

<!-- Script -->
<script>
  const toggleMobileMenu = () => {
    const menu = document.getElementById('mobileMenu');
    const isOpen = menu.classList.contains('translate-x-0');

    menu.classList.toggle('translate-x-full');
    menu.classList.toggle('translate-x-0');

    // body 스크롤 막기
    document.body.style.overflow = isOpen ? '' : 'hidden';
  };

  const toggleSubMenu = (id) => {
    const el = document.getElementById(id);
    el.classList.toggle('hidden');
  };

  document.getElementById('menuToggleBtn').addEventListener('click', toggleMobileMenu);
</script>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const toggleMobileMenu = () => {
      const menu = document.getElementById('mobileMenu');
      const isOpen = menu.classList.contains('translate-x-0');
      menu.classList.toggle('translate-x-full');
      menu.classList.toggle('translate-x-0');
      document.body.style.overflow = isOpen ? '' : 'hidden';
    };

    const toggleSubMenu = (id) => {
      const el = document.getElementById(id);
      el.classList.toggle('hidden');
    };

    // 버튼 연결은 DOMContentLoaded 이후에 해야 안전
    const menuBtn = document.getElementById('menuToggleBtn');
    if (menuBtn) {
      menuBtn.addEventListener('click', toggleMobileMenu);
    }
  });
</script>
</body>
</html>